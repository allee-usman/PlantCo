#!/usr/bin/env sh

echo "ðŸ”§ Running pre-commit formatting..."

# Format backend
if [ -d "backend" ]; then
  echo "ðŸ“ Formatting backend..."
  cd backend
  npm run format 2>/dev/null || echo "Backend format failed"
  cd ..
fi

# Format client
if [ -d "client" ]; then
  echo "ðŸ“ Formatting client..."
  cd client
  npx prettier --write . --plugin=prettier-plugin-tailwindcss 2>/dev/null || echo "Client format failed"
  cd ..
fi

# Add all formatted files to commit
git add .

echo "âœ… Pre-commit formatting complete!"